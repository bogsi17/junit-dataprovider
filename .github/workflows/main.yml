name: CI

on: [workflow_dispatch]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v3
    - name: Setup Java JDK
      uses: actions/setup-java@v3.6.0
      with:
        java-version: 8
        distribution: jdk
    - name: Gradle Build Action
      uses: gradle/gradle-build-action@v2.3.3
      with:
        arguments: test
    - name: Collect test reports
      uses: EnricoMi/publish-unit-test-result-action@v1
      if: always()
      with:
        files: '**/build/test-results/**/*.xml'
